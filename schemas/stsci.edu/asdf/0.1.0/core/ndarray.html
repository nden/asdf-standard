<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>ndarray: An n-dimensional array or table. &mdash; ASDF Standard 0.1.0dev documentation</title>
    
    <link rel="stylesheet" href="../../../../../_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/bootstrap-3.1.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/bootstrap-3.1.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/bootstrap-sphinx.css" type="text/css" />
    <link rel="stylesheet" href="../../../../../_static/asdfstandard.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../../../../../',
        VERSION:     '0.1.0dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/javascript" src="../../../../../_static/js/jquery-1.11.0.min.js"></script>
    <script type="text/javascript" src="../../../../../_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="../../../../../_static/bootstrap-3.1.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="../../../../../_static/bootstrap-sphinx.js"></script>
    <link rel="shortcut icon" href="../../../../../_static/logo.ico"/>
    <link rel="top" title="ASDF Standard 0.1.0dev documentation" href="../../../../../index.html" />
    <link rel="up" title="Core" href="../../../../core.html" />
    <link rel="next" title="FITS" href="../../../../fits.html" />
    <link rel="prev" title="complex: Complex number value." href="complex.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>
  
  <a href="https://github.com/spacetelescope/asdf-standard"
     class="visible-desktop"><img
    style="position: absolute; top: 40px; right: 0; border: 0;"
    src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png"
    alt="Fork me on GitHub"></a>


  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../../../../../index.html">
          ASDF Standard</a>
        <span class="navbar-text navbar-version pull-left"><b>0.1.0dev</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../../../../../index.html">Document <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../../intro.html">Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../file_layout.html">Low-level file layout</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../tree.html">The tree in-depth</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../../index.html">ASDF schema definitions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../extending.html">Extending ASDF</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../known_limits.html">Known limits</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../../changes.html">Changes</a></li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="complex.html" title="Previous Chapter: complex: Complex number value."><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; complex: Complex...</span>
    </a>
  </li>
  <li>
    <a href="../../../../fits.html" title="Next Chapter: FITS"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">FITS &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm"></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../../../../../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="ndarray-an-n-dimensional-array-or-table">
<span id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray"></span><h1>ndarray: An <em>n</em>-dimensional array or table.<a class="headerlink" href="#ndarray-an-n-dimensional-array-or-table" title="Permalink to this headline">¶</a></h1>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><em>definitions/inline-data</em></a> <span class="soft">or</span> object.</p>
<p>An <em>n</em>-dimensional array or table.</p>
<p>There are two ways to store the data in an ndarray.</p>
<ul class="simple">
<li>Inline in the tree: This is recommended only for small arrays.  In
this case, the entire <tt class="docutils literal"><span class="pre">ndarray</span></tt> tag may be a nested list, in
which case the type of the array is inferred from the content.
(See the rules for type inference in the <tt class="docutils literal"><span class="pre">inline-data</span></tt>
definition below.)  The inline data may also be given in the
<tt class="docutils literal"><span class="pre">data</span></tt> property, in which case it is possible to explicitly
specify the <tt class="docutils literal"><span class="pre">dtype</span></tt> and other properties.</li>
<li>External to the tree: The data comes from a <a class="reference internal" href="../../../../../file_layout.html#block"><em>block</em></a>
within the same ASDF file or an external ASDF file referenced by a
URI.</li>
</ul>
<p><span class="category">Definitions:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype"><span class="entry">scalar-dtype</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;int8&#8221;, &#8220;uint8&#8221;, &#8220;int16&#8221;, &#8220;uint16&#8221;, &#8220;int32&#8221;, &#8220;uint32&#8221;, &#8220;int64&#8221;, &#8220;uint64&#8221;, &#8220;float32&#8221;, &#8220;float64&#8221;, &#8220;complex64&#8221;, &#8220;complex128&#8221;, &#8220;bool8&#8221;] <span class="soft">or</span> array.</p>
<p>Describes the type of a single element.</p>
<p>There is a set of numeric types, each with a single identifier:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">int8</span></tt>, <tt class="docutils literal"><span class="pre">int16</span></tt>, <tt class="docutils literal"><span class="pre">int32</span></tt>, <tt class="docutils literal"><span class="pre">int64</span></tt>: Signed integer
types, with the given bit size.</li>
<li><tt class="docutils literal"><span class="pre">uint8</span></tt>, <tt class="docutils literal"><span class="pre">uint16</span></tt>, <tt class="docutils literal"><span class="pre">uint32</span></tt>, <tt class="docutils literal"><span class="pre">uint64</span></tt>: Unsigned
integer types, with the given bit size.</li>
<li><tt class="docutils literal"><span class="pre">float32</span></tt>: Single-precision floating-point type or
&#8220;binary32&#8221;, as defined in IEEE 754.</li>
<li><tt class="docutils literal"><span class="pre">float64</span></tt>: Double-precision floating-point type or
&#8220;binary64&#8221;, as defined in IEEE 754.</li>
<li><tt class="docutils literal"><span class="pre">complex64</span></tt>: Complex number where the real and imaginary
parts are each single-precision floating-point (&#8220;binary32&#8221;)
numbers, as defined in IEEE 754.</li>
<li><tt class="docutils literal"><span class="pre">complex128</span></tt>: Complex number where the real and imaginary
parts are each double-precision floating-point (&#8220;binary64&#8221;)
numbers, as defined in IEEE 754.</li>
</ul>
<p>There are two distinct fixed-length string types, which must
be indicated with a 2-element array where the first element is an
identifier for the string type, and the second is a length:</p>
<ul class="simple">
<li><tt class="docutils literal"><span class="pre">ascii</span></tt>: A string containing ASCII text (all codepoints &lt; 128),
where each character is 1 byte.</li>
<li><tt class="docutils literal"><span class="pre">ucs4</span></tt>: A string containing unicode text in the UCS-4
encoding, where each character is always 4 bytes long.  Here
the number of bytes used is 4 times the given length.</li>
</ul>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;int8&#8221;, &#8220;uint8&#8221;, &#8220;int16&#8221;, &#8220;uint16&#8221;, &#8220;int32&#8221;, &#8220;uint32&#8221;, &#8220;int64&#8221;, &#8220;uint64&#8221;, &#8220;float32&#8221;, &#8220;float64&#8221;, &#8220;complex64&#8221;, &#8220;complex128&#8221;, &#8220;bool8&#8221;].</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> array.</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype-anyof-1-0"><span class="entry">index[0]</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;ascii&#8221;, &#8220;ucs4&#8221;].</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype-anyof-1-1"><span class="entry">index[1]</span></p>
<p><span class="soft">Type:</span> integer  ≥ 0.</p>
</div></blockquote>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype"><span class="entry">dtype</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype"><em>definitions/scalar-dtype</em></a> <span class="soft">or</span> array <span class="soft">of</span> ( <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype"><em>definitions/scalar-dtype</em></a> <span class="soft">or</span> object ).</p>
<p>The data format of the array elements.  May be a single scalar
dtype, or may be a nested list of dtypes.  When a list, each field
may have a name.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype"><em>definitions/scalar-dtype</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype"><em>definitions/scalar-dtype</em></a> <span class="soft">or</span> object ).</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1-items"><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype"><em>definitions/scalar-dtype</em></a> <span class="soft">or</span> object.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1-items-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-scalar-dtype"><em>definitions/scalar-dtype</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1-items-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> object.</p>
<p><span class="category">Properties:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1-items-anyof-1-properties-name"><span class="entry">name</span></p>
<p><span class="soft">Type:</span> string ( <span class="soft">regex</span> <tt class="regexp docutils literal"><span class="pre">[A-Za-z_][A-Za-z0-9_]*</span></tt> ).</p>
<p>The name of the field</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1-items-anyof-1-properties-dtype"><span class="entry">dtype</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype"><em>definitions/dtype</em></a>. Required.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1-items-anyof-1-properties-byteorder"><span class="entry">byteorder</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;big&#8221;, &#8220;little&#8221;].</p>
<p>The byteorder for the field.  If not provided, the
byteorder of the dtype as a whole will be used.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1-items-anyof-1-properties-shape"><span class="entry">shape</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( integer  ≥ 0 ).</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype-anyof-1-items-anyof-1-properties-shape-items"><span class="soft">Type:</span> integer  ≥ 0.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><span class="entry">inline-data</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( number <span class="soft">or</span> string <span class="soft">or</span> null <span class="soft">or</span> <a class="reference internal" href="complex.html"><em>complex</em></a> <span class="soft">or</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><em>definitions/inline-data</em></a> <span class="soft">or</span> boolean ).</p>
<p>Inline data is stored in YAML format directly in the tree, rather than
referencing a binary block.  It is made out of nested lists.</p>
<p>If the dtype of the array is not specified, it is inferred from
the array contents.  Type inference is supported only for
homogeneous arrays, not tables.</p>
<ul class="simple">
<li>If any of the elements in the array are YAML strings, the
<tt class="docutils literal"><span class="pre">dtype</span></tt> of the dtype of the entire array is <tt class="docutils literal"><span class="pre">ucs4</span></tt>, with
the width of the largest string in the column, otherwise...</li>
<li>If any of the elements in the array are complex numbers, the
<tt class="docutils literal"><span class="pre">dtype</span></tt> of the entire column is <tt class="docutils literal"><span class="pre">complex128</span></tt>, otherwise...</li>
<li>If any of the types in the column are numbers with a decimal
point, the <tt class="docutils literal"><span class="pre">dtype</span></tt> of the entire column is <tt class="docutils literal"><span class="pre">float64</span></tt>,
otherwise..</li>
<li>If any of the types in the column are integers, the <tt class="docutils literal"><span class="pre">dtype</span></tt>
of the entire column is <tt class="docutils literal"><span class="pre">int64</span></tt>, otherwise...</li>
<li>The <tt class="docutils literal"><span class="pre">dtype</span></tt> of the entire column is <tt class="docutils literal"><span class="pre">bool8</span></tt>.</li>
</ul>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items"><span class="soft">Type:</span> number <span class="soft">or</span> string <span class="soft">or</span> null <span class="soft">or</span> <a class="reference internal" href="complex.html"><em>complex</em></a> <span class="soft">or</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><em>definitions/inline-data</em></a> <span class="soft">or</span> boolean.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> number.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> string.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-2"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> null.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-3"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="complex.html"><em>complex</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-4"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><em>definitions/inline-data</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data-items-anyof-5"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> boolean.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><em>definitions/inline-data</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> object.</p>
<p><span class="category">Properties:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-source"><span class="entry">source</span></p>
<p><span class="soft">Type:</span> integer <span class="soft">or</span> string ( <span class="soft">format</span> uri ).</p>
<p>The source of the data.</p>
<ul>
<li><p class="first">If an integer:</p>
<blockquote>
<div><ul class="simple">
<li>If positive, the zero-based index of the block within the
same file.</li>
<li>If negative, the index from the last block within the same
file.  For example, a source of <tt class="docutils literal"><span class="pre">-1</span></tt> corresponds to the
last block in the same file.</li>
</ul>
</div></blockquote>
</li>
<li><p class="first">If a string, a URI to an external ASDF file containing the
block data.  Relative URIs and <tt class="docutils literal"><span class="pre">file:</span></tt> and <tt class="docutils literal"><span class="pre">http:</span></tt>
protocols must be supported.  Other protocols may be supported
by specific library implementations.</p>
<p>The ability to reference block data in an external ASDF file
is intentionally limited to the first block in the external
ASDF file, and is intended only to support the needs of
<a class="reference internal" href="../../../../../file_layout.html#exploded"><em>Exploded form</em></a>.  For the more general case of referencing
data in an external ASDF file, use tree <a class="reference internal" href="../../../../../tree.html#references"><em>References</em></a>.</p>
</li>
</ul>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-source-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> integer.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-source-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> string ( <span class="soft">format</span> uri ).</p>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-data"><span class="entry">data</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-inline-data"><em>definitions/inline-data</em></a>.</p>
<p>The data for the array inline.</p>
<p>If <tt class="docutils literal"><span class="pre">dtype</span></tt> and/or <tt class="docutils literal"><span class="pre">shape</span></tt> are also provided, they must
match the data here and can be used as a consistency check.
<tt class="docutils literal"><span class="pre">strides</span></tt>, <tt class="docutils literal"><span class="pre">offset</span></tt> and <tt class="docutils literal"><span class="pre">byteorder</span></tt> are meaningless
when <tt class="docutils literal"><span class="pre">data</span></tt> is provided.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-shape"><span class="entry">shape</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( integer  ≥ 0 <span class="soft">or</span> any <span class="soft">from</span> [&#8220;*&#8221;] ).</p>
<p>The shape of the array.</p>
<p>The first entry may be the string <tt class="docutils literal"><span class="pre">*</span></tt>, indicating that the
length of the first index of the array will be automatically
determined from the size of the block.  This is used for
streaming support.</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-shape-items"><span class="soft">Type:</span> integer  ≥ 0 <span class="soft">or</span> any <span class="soft">from</span> [&#8220;*&#8221;].</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-shape-items-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> integer  ≥ 0.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-shape-items-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> any <span class="soft">from</span> [&#8220;*&#8221;].</p>
</div></blockquote>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-dtype"><span class="entry">dtype</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="#http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-definitions-dtype"><em>definitions/dtype</em></a>.</p>
<p>The data format of the array elements.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-byteorder"><span class="entry">byteorder</span></p>
<p><span class="soft">Type:</span> string <span class="soft">from</span> [&#8220;big&#8221;, &#8220;little&#8221;].</p>
<p>The byte order (big- or little-endian) of the array data.</p>
<p><span class="soft">Default:</span> &#8220;big&#8221;</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-offset"><span class="entry">offset</span></p>
<p><span class="soft">Type:</span> integer  ≥ 0.</p>
<p>The offset, in bytes, within the data for this start of this view.</p>
<p><span class="soft">Default:</span> 0</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-strides"><span class="entry">strides</span></p>
<p><span class="soft">Type:</span> array <span class="soft">of</span> ( integer  ≥ 1 <span class="soft">or</span> integer  ≤ -1 ).</p>
<p>The number of bytes to skip in each dimension.  If not provided, the array is assumed by be contiguous and in C order.  If provided, must be the same length as the shape property.</p>
<p><span class="category">Items:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-strides-items"><span class="soft">Type:</span> integer  ≥ 1 <span class="soft">or</span> integer  ≤ -1.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-strides-items-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> integer  ≥ 1.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-strides-items-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> integer  ≤ -1.</p>
</div></blockquote>
</div></blockquote>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-mask"><span class="entry">mask</span></p>
<p><span class="soft">Type:</span> number <span class="soft">or</span> <a class="reference internal" href="complex.html"><em>complex</em></a> <span class="soft">or</span> <a class="reference internal" href=""><em>ndarray</em></a>.</p>
<p>Describes how missing values in the array are stored.  If a scalar number, that number is used to represent missing values. If an ndarray, the given array provides a mask, where non-zero values represent missing values in this array.  The mask array must be broadcastable to the dimensions of this array.</p>
<p><span class="category">Any of:</span></p>
<blockquote>
<div><p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-mask-anyof-0"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> number.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-mask-anyof-1"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href="complex.html"><em>complex</em></a>.</p>
<p id="http-stsci-edu-schemas-asdf-0-1-0-core-ndarray-anyof-1-properties-mask-anyof-2"><span class="entry">—</span></p>
<p><span class="soft">Type:</span> <a class="reference internal" href=""><em>ndarray</em></a>.</p>
</div></blockquote>
</div></blockquote>
</div></blockquote>
<p><span class="category">Examples:</span></p>
<p>An inline array, with implicit data type:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">[[1, 0, 0],</span>
   <span class="l-Scalar-Plain">[0, 1, 0],</span>
   <span class="l-Scalar-Plain">[0, 0, 1]]</span>
</pre></div>
</div>
<p>An inline array, with an explicit data type:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">[[</span><span class="nv">1</span><span class="p-Indicator">,</span> <span class="nv">0</span><span class="p-Indicator">,</span> <span class="nv">0</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span><span class="nv">0</span><span class="p-Indicator">,</span> <span class="nv">1</span><span class="p-Indicator">,</span> <span class="nv">0</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span><span class="nv">0</span><span class="p-Indicator">,</span> <span class="nv">0</span><span class="p-Indicator">,</span> <span class="nv">1</span><span class="p-Indicator">]]</span>
</pre></div>
</div>
<p>An inline table, where the types of each column are automatically detected:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">[[M110, 110, 205, And],</span>
   <span class="l-Scalar-Plain">[ M31,  31, 224, And],</span>
   <span class="l-Scalar-Plain">[ M32,  32, 221, And],</span>
   <span class="l-Scalar-Plain">[M103, 103, 581, Cas]]</span>
</pre></div>
</div>
<p>An inline table, where the types of each column are explicitly specified:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="p-Indicator">[[</span><span class="s">&#39;ascii&#39;</span><span class="p-Indicator">,</span> <span class="nv">4</span><span class="p-Indicator">],</span> <span class="nv">uint16</span><span class="p-Indicator">,</span> <span class="nv">uint16</span><span class="p-Indicator">,</span> <span class="p-Indicator">[</span><span class="s">&#39;ascii&#39;</span><span class="p-Indicator">,</span> <span class="nv">4</span><span class="p-Indicator">]]</span>
  <span class="l-Scalar-Plain">data</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">[[</span><span class="nv">M110</span><span class="p-Indicator">,</span> <span class="nv">110</span><span class="p-Indicator">,</span> <span class="nv">205</span><span class="p-Indicator">,</span> <span class="nv">And</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span> <span class="nv">M31</span><span class="p-Indicator">,</span>  <span class="nv">31</span><span class="p-Indicator">,</span> <span class="nv">224</span><span class="p-Indicator">,</span> <span class="nv">And</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span> <span class="nv">M32</span><span class="p-Indicator">,</span>  <span class="nv">32</span><span class="p-Indicator">,</span> <span class="nv">221</span><span class="p-Indicator">,</span> <span class="nv">And</span><span class="p-Indicator">],</span>
     <span class="p-Indicator">[</span><span class="nv">M103</span><span class="p-Indicator">,</span> <span class="nv">103</span><span class="p-Indicator">,</span> <span class="nv">581</span><span class="p-Indicator">,</span> <span class="nv">Cas</span><span class="p-Indicator">]]</span>
</pre></div>
</div>
<p>A double-precision array, in contiguous memory in a block within the same file:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">1024</span><span class="p-Indicator">,</span> <span class="nv">1024</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
</pre></div>
</div>
<p>A view of a tile in that image:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">strides</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">8192</span><span class="p-Indicator">,</span> <span class="nv">8</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">offset</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">2099200</span>
</pre></div>
</div>
<p>A table dtype, with nested columns for a coordinate in (ra, dec), and a 3x3 convolution kernel:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">64</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">coordinate</span>
      <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">ra</span>
          <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
        <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">dec</span>
          <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
    <span class="p-Indicator">-</span> <span class="l-Scalar-Plain">name</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">kernel</span>
      <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float32</span>
      <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">3</span><span class="p-Indicator">,</span> <span class="nv">3</span><span class="p-Indicator">]</span>
</pre></div>
</div>
<p>An array in Fortran order:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">1024</span><span class="p-Indicator">,</span> <span class="nv">1024</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">strides</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">8192</span><span class="p-Indicator">,</span> <span class="nv">8</span><span class="p-Indicator">]</span>
</pre></div>
</div>
<p>An array where values of -999 are treated as missing:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">mask</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">-999</span>
</pre></div>
</div>
<p>An array where another array is used as a mask:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">0</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
  <span class="l-Scalar-Plain">mask</span><span class="p-Indicator">:</span> <span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
    <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">1</span>
    <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
    <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">bool8</span>
</pre></div>
</div>
<p>An array where the data is stored in the first block in another ASDF file.:</p>
<div class="highlight-yaml"><div class="highlight"><pre><span class="kt">!core</span><span class="l-Scalar-Plain">/ndarray</span>
  <span class="l-Scalar-Plain">source</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">external.asdf</span>
  <span class="l-Scalar-Plain">shape</span><span class="p-Indicator">:</span> <span class="p-Indicator">[</span><span class="nv">256</span><span class="p-Indicator">,</span> <span class="nv">256</span><span class="p-Indicator">]</span>
  <span class="l-Scalar-Plain">dtype</span><span class="p-Indicator">:</span> <span class="l-Scalar-Plain">float64</span>
</pre></div>
</div>
<p><a class="reference download internal" href="../../../../../_downloads/ndarray.yaml"><tt class="xref download docutils literal"><span class="pre">Original</span> <span class="pre">schema</span> <span class="pre">in</span> <span class="pre">YAML</span></tt></a></p>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2014, Erik Bray, Michael Droettboom, Space Telescope Science Institute.<br/>
      Last updated on Sep 15, 2014.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>